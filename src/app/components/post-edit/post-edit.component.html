<div class="container">
  <!-- Loading State -->
  @if (isLoading) {
    <div class="loading-container" [@fadeInUp]>
      <div class="loading-spinner"></div>
      <p>Loading post data...</p>
    </div>
  }

  <!-- Error State -->
  @else if (loadError) {
    <div class="error-container" [@fadeInUp]>
      <h2>❌ Post Not Found</h2>
      <p>Could not load the post for editing.</p>
      <button (click)="retryLoad()">Try Again</button>
      <button (click)="onCancel()">Go Back</button>
    </div>
  }

  <!-- Toast -->
  @if (showSuccessToast) {
    <div class="toast" [@fadeInUp]>
      ✅ Post updated successfully! Redirecting...
    </div>
  }

  <!-- Edit Form -->
  @else if (postForm && originalPost) {
    <section class="edit-post-form" [@fadeInUp]>
      <h2>Edit Post</h2>
      <form [formGroup]="postForm" (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label>Title</label>
          <input type="text" formControlName="title" placeholder="Post title" />
          @if (postForm.get('title')?.invalid && postForm.get('title')?.touched) {
            <div class="error">Title must be at least 3 characters.</div>
          }
        </div>

        <div class="form-group">
          <label>Body</label>
          <textarea formControlName="body" rows="5" placeholder="Post content"></textarea>
          @if (postForm.get('body')?.invalid && postForm.get('body')?.touched) {
            <div class="error">Content must be at least 10 characters.</div>
          }
        </div>

        <div class="form-group">
          <label>Tag</label>
          <input type="text" formControlName="tag" placeholder="e.g. Angular" />
          @if (postForm.get('tag')?.invalid && postForm.get('tag')?.touched) {
            <div class="error">Tag is required.</div>
          }
        </div>

        <div class="form-actions">
          <button type="button" class="cancel-btn" (click)="onCancel()">Cancel</button>
          <button type="submit" [disabled]="postForm.invalid">Update</button>
        </div>
      </form>
    </section>
  }
</div>
